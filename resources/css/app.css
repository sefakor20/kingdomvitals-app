@import 'tailwindcss';
@import '../../vendor/livewire/flux/dist/flux.css';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../vendor/livewire/flux-pro/stubs/**/*.blade.php';
@source '../../vendor/livewire/flux/stubs/**/*.blade.php';

@custom-variant dark (&:where(.dark, .dark *));

@theme {
    /* Typography - Instrument Sans for backend (default) */
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', ui-monospace, 'SFMono-Regular', monospace;

    /* Letter Spacing */
    --tracking-tighter: -0.06em;
    --tracking-wide: 0.1em;
    --tracking-widest: 0.2em;

    /* Zinc Palette (retained for compatibility) */
    --color-zinc-50: #fafafa;
    --color-zinc-100: #f5f5f5;
    --color-zinc-200: #e5e5e5;
    --color-zinc-300: #d4d4d4;
    --color-zinc-400: #a3a3a3;
    --color-zinc-500: #737373;
    --color-zinc-600: #525252;
    --color-zinc-700: #404040;
    --color-zinc-800: #262626;
    --color-zinc-900: #171717;
    --color-zinc-950: #0a0a0a;

    /* Obsidian Palette */
    --color-obsidian-base: #000000;
    --color-obsidian-surface: #0c0c0c;
    --color-obsidian-elevated: #141414;
    --color-obsidian-subtle: #1a1a1a;

    /* Emerald Accent (Primary) */
    --color-emerald-400: #34d399;
    --color-emerald-500: #009866;
    --color-emerald-600: #007a52;

    /* Lime Accent (Secondary) */
    --color-lime-accent: #ccff00;
    --color-lime-accent-dark: #a3cc00;

    /* Accent Colors */
    --color-accent: var(--color-emerald-500);
    --color-accent-content: var(--color-emerald-500);
    --color-accent-foreground: #ffffff;

    /* Border Radius */
    --radius-glass: 2rem;
    --radius-glass-lg: 2.5rem;
}

@layer theme {
    .dark {
        --color-accent: var(--color-emerald-500);
        --color-accent-content: var(--color-emerald-500);
        --color-accent-foreground: #ffffff;
    }
}

@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

@layer utilities {
    /* Glassmorphism Card - Light Mode */
    .glass-card {
        background: rgba(0, 0, 0, 0.03);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: var(--radius-glass);
    }

    /* Glassmorphism Card - Dark Mode */
    .dark .glass-card {
        background: rgba(255, 255, 255, 0.03);
        border-color: rgba(255, 255, 255, 0.1);
    }

    .glass-card-lg {
        border-radius: var(--radius-glass-lg);
    }

    .glass-card:hover {
        border-color: rgba(0, 0, 0, 0.15);
    }

    .dark .glass-card:hover {
        border-color: rgba(255, 255, 255, 0.15);
    }

    /* Floating Shell Container */
    .shell-container {
        max-width: 1600px;
        margin-inline: auto;
        border-radius: var(--radius-glass-lg);
    }

    /* Neon Pulse Button (Emerald) */
    .btn-neon {
        background: var(--color-emerald-500);
        color: white;
        font-weight: 600;
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.4),
                    0 0 40px rgba(16, 185, 129, 0.2);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .btn-neon:hover {
        transform: scale(1.02);
        box-shadow: 0 0 30px rgba(16, 185, 129, 0.6),
                    0 0 60px rgba(16, 185, 129, 0.3);
    }

    .btn-neon:active {
        transform: scale(0.98);
    }

    .btn-neon:focus-visible {
        outline: none;
        box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-emerald-500),
                    0 0 30px rgba(16, 185, 129, 0.6);
    }

    .dark .btn-neon:focus-visible {
        box-shadow: 0 0 0 2px var(--color-obsidian-surface),
                    0 0 0 4px var(--color-emerald-500),
                    0 0 30px rgba(16, 185, 129, 0.6);
    }

    /* Lime Button (Secondary) */
    .btn-lime {
        background: var(--color-lime-accent);
        color: var(--color-obsidian-base);
        font-weight: 700;
        box-shadow: 0 0 30px rgba(204, 255, 0, 0.3);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .btn-lime:hover {
        transform: scale(1.02);
        box-shadow: 0 0 40px rgba(204, 255, 0, 0.5);
    }

    .btn-lime:active {
        transform: scale(0.98);
    }

    .btn-lime:focus-visible {
        outline: none;
        box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-lime-accent),
                    0 0 30px rgba(204, 255, 0, 0.5);
    }

    .dark .btn-lime:focus-visible {
        box-shadow: 0 0 0 2px var(--color-obsidian-surface),
                    0 0 0 4px var(--color-lime-accent),
                    0 0 30px rgba(204, 255, 0, 0.5);
    }

    /* System Status Tag */
    .status-tag {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
    }

    /* Float Animation */
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    .animate-float-delayed {
        animation: float 6s ease-in-out infinite;
        animation-delay: 2s;
    }

    .animate-float-slow {
        animation: float 8s ease-in-out infinite;
        animation-delay: 1s;
    }

    /* Pulsing Status Dot */
    @keyframes pulse-dot {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .pulse-dot {
        animation: pulse-dot 2s ease-in-out infinite;
    }

    /* Entrance Animation */
    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(1.5rem);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fade-out {
        to { opacity: 0; }
    }

    .animate-entrance {
        animation: fade-in-up 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        opacity: 0;
    }

    .animate-entrance-delay-1 { animation-delay: 100ms; }
    .animate-entrance-delay-2 { animation-delay: 200ms; }
    .animate-entrance-delay-3 { animation-delay: 300ms; }
    .animate-entrance-delay-4 { animation-delay: 400ms; }
    .animate-entrance-delay-5 { animation-delay: 500ms; }

    /* Hero entrance - pure CSS, no JS dependency */
    .hero-entrance {
        animation: fade-in-up 0.7s cubic-bezier(0.4, 0, 0.2, 1) both;
    }

    .hero-delay-1 { animation-delay: 0ms; }
    .hero-delay-2 { animation-delay: 100ms; }
    .hero-delay-3 { animation-delay: 200ms; }
    .hero-delay-4 { animation-delay: 300ms; }
    .hero-delay-5 { animation-delay: 400ms; }
    .hero-delay-6 { animation-delay: 500ms; }

    /* Scroll reveal - JS IntersectionObserver toggles .is-visible */
    .scroll-reveal {
        opacity: 0;
        transform: translateY(2rem);
        transition: opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .scroll-reveal.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Stagger delays for scroll reveal */
    .reveal-delay-1 { transition-delay: 0ms; }
    .reveal-delay-2 { transition-delay: 100ms; }
    .reveal-delay-3 { transition-delay: 200ms; }
    .reveal-delay-4 { transition-delay: 300ms; }
    .reveal-delay-5 { transition-delay: 400ms; }
    .reveal-delay-6 { transition-delay: 500ms; }
    .reveal-delay-7 { transition-delay: 600ms; }
    .reveal-delay-8 { transition-delay: 700ms; }

    /* Card Lift Effect */
    .card-lift {
        transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
                    box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .card-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
    }

    .dark .card-lift:hover {
        box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.4);
    }

    /* Skeleton Loader */
    @keyframes skeleton-shimmer {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    .skeleton {
        background: linear-gradient(
            90deg,
            rgba(0, 0, 0, 0.06) 25%,
            rgba(0, 0, 0, 0.1) 50%,
            rgba(0, 0, 0, 0.06) 75%
        );
        background-size: 200% 100%;
        animation: skeleton-shimmer 1.5s ease-in-out infinite;
        border-radius: 0.5rem;
    }

    .dark .skeleton {
        background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.04) 25%,
            rgba(255, 255, 255, 0.08) 50%,
            rgba(255, 255, 255, 0.04) 75%
        );
        background-size: 200% 100%;
    }

    /* Gradient Animation */
    @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient-shift 15s ease infinite;
    }

    /* Glow Sphere */
    .glow-sphere {
        position: absolute;
        border-radius: 50%;
        filter: blur(120px);
        pointer-events: none;
    }

    .glow-emerald {
        background: radial-gradient(circle, rgba(16, 185, 129, 0.4) 0%, transparent 70%);
    }

    .glow-lime {
        background: radial-gradient(circle, rgba(204, 255, 0, 0.3) 0%, transparent 70%);
    }

    /* Grid Pattern Overlay */
    .grid-pattern {
        background-image:
            linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
        background-size: 60px 60px;
    }

    .dark .grid-pattern {
        background-image:
            linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    }

    /* Noise Texture Overlay */
    .noise-overlay {
        position: relative;
    }

    .noise-overlay::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        opacity: 0.15;
        pointer-events: none;
        mix-blend-mode: overlay;
        border-radius: inherit;
    }

    /* Typography Utilities */
    .heading-giant {
        font-size: clamp(2.5rem, 6vw, 5rem);
        font-weight: 300;
        letter-spacing: -0.06em;
        line-height: 0.95;
    }

    .text-gradient-emerald {
        background: linear-gradient(135deg, var(--color-emerald-400), var(--color-lime-accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .label-mono {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
    }

    /* Text Colors */
    .text-primary {
        color: #171717;
    }

    .dark .text-primary {
        color: #ebebeb;
    }

    .text-secondary {
        color: rgba(23, 23, 23, 0.6);
    }

    .dark .text-secondary {
        color: rgba(235, 235, 235, 0.6);
    }

    .text-muted {
        color: rgba(23, 23, 23, 0.3);
    }

    .dark .text-muted {
        color: rgba(235, 235, 235, 0.3);
    }

    /* Contrast Section (Light background in dark theme) */
    .contrast-section {
        background: #e5e5e5;
        color: #171717;
    }

    /* Watermark Text */
    .watermark-text {
        font-size: clamp(6rem, 20vw, 20rem);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: -0.06em;
        line-height: 1;
        color: rgba(0, 0, 0, 0.02);
    }

    .dark .watermark-text {
        color: rgba(255, 255, 255, 0.02);
    }

    /* 3D Perspective for Dashboard */
    .perspective-container {
        perspective: 1500px;
    }

    .dashboard-tilt {
        transform: rotateY(-8deg) rotateX(4deg);
        transform-style: preserve-3d;
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dashboard-tilt:hover {
        transform: rotateY(-4deg) rotateX(2deg);
    }

    @media (max-width: 1023px) {
        .dashboard-tilt {
            transform: none;
        }
        .dashboard-tilt:hover {
            transform: none;
        }
    }
}

/* Landing Page Font Override */
.landing-page {
    --font-sans: 'Space Grotesk', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    font-family: var(--font-sans);
}

/* Flux UI Field Styling */
[data-flux-field]:not(ui-radio, ui-checkbox) {
    @apply grid gap-2;
}

[data-flux-label] {
    @apply !mb-0 !leading-tight;
}

input:focus[data-flux-control],
textarea:focus[data-flux-control],
select:focus[data-flux-control],
input:focus,
textarea:focus,
select:focus {
    @apply outline-none ring-2 ring-emerald-500 ring-offset-2;
}

.dark input:focus[data-flux-control],
.dark textarea:focus[data-flux-control],
.dark select:focus[data-flux-control],
.dark input:focus,
.dark textarea:focus,
.dark select:focus {
    @apply ring-offset-obsidian-elevated;
}

/* Smooth Scroll */
html {
    scroll-behavior: smooth;
}

/* View Transitions (for wire:transition) */
::view-transition-old(match-element) {
    animation: 200ms ease-out both fade-out;
}

::view-transition-new(match-element) {
    animation: 300ms ease-out both fade-in-up;
}

/* Named View Transitions */
@keyframes fade-scale-out {
    to {
        opacity: 0;
        transform: scale(0.95);
    }
}

@keyframes fade-scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
}

::view-transition-old(card) {
    animation: 200ms ease-out both fade-scale-out;
}

::view-transition-new(card) {
    animation: 300ms ease-out both fade-scale-in;
}

@keyframes slide-out-left {
    to {
        transform: translateX(-100%);
        opacity: 0;
    }
}

@keyframes slide-in-right {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
}

::view-transition-old(sidebar) {
    animation: 300ms ease-out both slide-out-left;
}

::view-transition-new(sidebar) {
    animation: 300ms ease-in both slide-in-right;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    .animate-float,
    .animate-float-delayed,
    .animate-float-slow,
    .pulse-dot,
    .skeleton,
    .animate-gradient {
        animation: none;
    }
}
